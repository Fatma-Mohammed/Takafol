<!DOCTYPE html>
<html>
<head>
  <title>Takafol -
    <%= yield(:Title) %>
  </title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <%= javascript_include_tag "application" %>
  <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
  <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>

  <!--  custom style for this page (assets/stylesheets/home)-->
  <%= stylesheet_link_tag 'home', media: 'all' %>

  <%= yield(:headers) %>

  <script src="https://js.stripe.com/v3/"></script>

</head>

<body>
<div class="body">
  <%= render 'common-partials/header' %>
  <div role="main" class="main">
    <%= yield(:content) %>
    <!--
    for the content
    please follow the structure of the page like: home/index
    div.container>div.row
    -->
    <div class="container">
      <div class="row">
        <% if charity_signed_in? %>
          <p class="navbar-text float-right">
          <h2>Charity</h2>
          <% if charity_signed_in? %>
            Logged in as <strong><%= current_charity.email %></strong>.
            <%= link_to 'Edit profile', edit_charity_registration_path, :class => 'navbar-link' %> |
            <%= link_to "Logout", destroy_charity_session_path, method: :delete, :class => 'navbar-link' %> |
            <%= link_to 'Show Profile', profile_path %>
          <% else %>
            <%= link_to "Sign up", new_charity_registration_path, :class => 'navbar-link' %> |
            <%= link_to "Login", new_charity_session_path, :class => 'navbar-link' %>
          <% end %>
          </p>
        <% elsif donor_signed_in? %>
          <p class="navbar-text float-right">
          <h2>Donor</h2>
          <% if donor_signed_in? %>
            Logged in as <strong><%= current_donor.email %></strong>.
            <%= link_to 'Edit profile', edit_donor_registration_path, :class => 'navbar-link' %> |
            <%= link_to "Logout", destroy_donor_session_path, method: :delete, :class => 'navbar-link' %> |
            <%= link_to 'Show Profile', profile_path %>
          <% else %>
            <%= link_to "Sign up", new_donor_registration_path, :class => 'navbar-link' %> |
            <%= link_to "Login", new_donor_session_path, :class => 'navbar-link' %>
          <% end %>
          </p>


        <% else
             !donor_signed_in? && !charity_signed_in? %>

          <p class="navbar-text float-right">
          <h2>Charity</h2>
          <% if charity_signed_in? %>
            Logged in as <strong><%= current_charity.email %></strong>.
            <%= link_to 'Edit profile', edit_charity_registration_path, :class => 'navbar-link' %> |
            <%= link_to "Logout", destroy_charity_session_path, method: :delete, :class => 'navbar-link' %>
          <% else %>
            <%= link_to "Sign up", new_charity_registration_path, :class => 'navbar-link' %> |
            <%= link_to "Login", new_charity_session_path, :class => 'navbar-link' %>
          <% end %>
          </p>


          <p class="navbar-text float-right">
          <h2>Donor</h2>
          <% if donor_signed_in? %>
            Logged in as <strong><%= current_donor.email %></strong>.
            <%= link_to 'Edit profile', edit_donor_registration_path, :class => 'navbar-link' %> |
            <%= link_to "Logout", destroy_donor_session_path, method: :delete, :class => 'navbar-link' %>
          <% else %>
            <%= link_to "Sign up", new_donor_registration_path, :class => 'navbar-link' %> |
            <%= link_to "Login", new_donor_session_path, :class => 'navbar-link' %>
          <% end %>
          </p>

        <% end %>
      </div>
    </div>

  </div>

  <%= yield %>
  <%= render 'common-partials/footer' %>
</div>
</body>
</html>
